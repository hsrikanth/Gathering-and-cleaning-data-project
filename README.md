# Gathering-and-cleaning-data-project
This repository contains files related to Coursera's project for course on Gathering and Cleaning Data. It contains the following files.

README.md - this is the readme file for this repository
run_analysis.R - this file contains the script to process the Samsung data and create the output file project_output.txt
Codebook.md - this file explains the variables in the project_output.txt file

Explanation of the steps in run_analysis.R:
The script starts by downloading the zip file from the link provided in the project description using download.file, and unzipping it into the working directory using the unzip function.

This creates a directory called UCI HAR Dataset in the working dataset under which we have directories train and test containing the training and testing datasets respectively.

The script then reads and stores the training dataset (X_train), activity IDs (y_train), and subject IDs (subject_train) into data frames using the read.table function. It then uses cbind to append the activity IDs and subject IDs to the training dataset, and stores the combined dataset in the data frame all_train. Similarly, the script reads the testing dataset, and stores the combined test dataset in the data frame all_test. Finally, the script uses rbind to append the testing dataset below the training dataset and stores it in all_data. This completes Step 1 in the course project.

The file features.txt in the UCI HAR Dataset directory provides a descriptive name for each of the features measured in X_train and X_test. The script reads this file, and stores the data into the data frame feature_list. The column V2 in feature_list now contains the names of all the features in the dataset. We now use this to give descriptive names to all the columns in all_data. Recall that all_data also contains data from y_train and subject_train. So we create a list containing 'Activity.ID', 'Subject.ID', and feature_list$V2, and assign it to the column names of all_data. This will be used to complete Steps 2, 3 and 4 of the course project.

In Step 2 of the project, we are asked to extract the columns in all_data corresponding to the mean and standard deviation of the measurements. From the features.txt file, we can see that each feature has a number of statistics including mean, standard deviation, entropy, skewness, etc. It appears that the mean and standard deviation can be obtained by searching for the feature names that contain 'mean()' and 'std()', respectively. This ignores some of the features such as "angle(X,gravityMean)", "angle(tBodyAccJerkMean),gravityMean)", etc., but since it is not clear whether these features represent the measurement mean, we exclude them. This results in 66 features. We use the grep function with the parameter fixed = TRUE to extract the column names in all_data that contain either 'mean()' or 'std()'. We filter all_data with the column indices returned by grep, include the first two columns containing Activity.ID and Subject.ID, and store the result in a new dataframe df_meanstd. This completes Step 2 of the project.

In Step 3 of the project, we are asked to assign descriptive names for the activities. This is done by first reading the file activity_labels.txt in the UCI HAR Dataset directory, and storing it in a dataframe act.labels. We create column names for this data frame - Activity.ID and Activity.Label that describes the columns. We can now merge the data frames act.labels and df_meanstd by Activity.ID using the merge function. The result is stored in the data frame df_meanstd_merged. Note that the data frame df_meanstd_merged still contains the Activity.ID column as the first column. Since we now have the activity labels, we no longer need this column. So we extract all the columns from the second column in df_meanstd_merged. Now, the data frame df_meanstd_merged has descriptive names for all the activities as well as descriptive column names for all the columns. This completes both Step 3 and Step 4 of the project.

Finally, we are asked to compute the mean for each feature grouped by Activity.Label and Subject.ID. We can do this using the aggregate function in the base R package. Since we need the same statistic (mean) for all the columns, we don't need to invoke plyr or dplyr here. We store the aggregated data in df_meanstd_merged_aggregated. We then assign column names to this data frame including Activity.Label, Subject.ID, and prefixing the phrase 'Average of' to every feature we picked in Step 2 of the project. Since we had picked 66 features, the resulting data frame has 68 columns (Activity.Label, Subject.ID, and 66 features). Also, since there were 6 distinct activities, and 30 distinct subjects, the resulting data frame has 30 x 6 = 180 rows, with each row containing a unique activity + subject combination and the average of each of the 66 features selected.

The data frame is df_meanstd_merged_aggregated is then written to a text file called project_output.txt (stored in the working directory) using the write.table function with the parameter row.name = FALSE. This completes the project.
